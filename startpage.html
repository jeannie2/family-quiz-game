<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Family Quiz Game</title>

    <style>
        body {
            text-align:center;
            background:yellow;
        }

        pre {
            position:relative;
            top:269px;
            font-weight:bold;
        }

    </style>

</head>
<body>

<pre>
 ______ ______  __    __  __  __      __  __       ______  __  __  __  ______       ______  ______  __    __  ______    
/\  ___/\  __ \/\ "-./  \/\ \/\ \    /\ \_\ \     /\  __ \/\ \/\ \/\ \/\___  \     /\  ___\/\  __ \/\ "-./  \/\  ___\   
\ \  __\ \  __ \ \ \-./\ \ \ \ \ \___\ \____ \    \ \ \/\_\ \ \_\ \ \ \/_/  /__    \ \ \__ \ \  __ \ \ \-./\ \ \  __\   
 \ \_\  \ \_\ \_\ \_\ \ \_\ \_\ \_____\/\_____\    \ \___\_\ \_____\ \_\/\_____\    \ \_____\ \_\ \_\ \_\ \ \_\ \_____\ 
  \/_/   \/_/\/_/\/_/  \/_/\/_/\/_____/\/_____/     \/___/_/\/_____/\/_/\/_____/     \/_____/\/_/\/_/\/_/  \/_/\/_____/ 
             
</pre>   

<script> 

if ('speechSynthesis' in window) {
    console.log('Speech recognition is supported');
    
    window.onunload = function () { 
        window.speechSynthesis.cancel();
    }

    document.addEventListener('visibilitychange', function(){
        //document.title = document.hidden; //change tab text 
        window.speechSynthesis.cancel();
        console.log("changed tab");
    })
    /* window.onpopstate=function(){ alert("Back/Forward clicked!"); } */

    speak("Welcome to the family quiz game");

    //might press right away and no speak
    document.body.onkeyup = function(e){
        if(e.keyCode == 32){ //spacebar
        window.location = "quiz.html";
        }
    }

    function speak(text) {
        var msg = new SpeechSynthesisUtterance();
        var voices = speechSynthesis.getVoices(); 
        msg.voice = voices[0]; 
        msg.lang = 'en-US';
        msg.volume = 2; //0 to 1. float, default 1
        msg.rate = 0.9; //0.1 to 10 (fastest). default 1
        msg.pitch = 1.2; //0 to 2 (highest). default 1
        msg.text = text;
        speechSynthesis.speak(msg);

        msg.onend = function() { 
            console.log("end speaking");
            speaking = false;
        };

        msg.onstart = function() {
            console.log("started speaking");
            speaking = true;
        }
    }
} else {
    console.log("Speech recognition not supported");
} 

</script>
       
</body>
</html>